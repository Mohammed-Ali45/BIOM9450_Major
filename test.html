<!-- this is a test html file for when something doesnt work in my other files use this -->

<!DOCTYPE html>
<html>
<head>
    <!--setting up file-->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--linking css files-->
    <link rel="resetsheet" type="text/css" href="css/reset.css"/>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <!--linking js file-->
    <script defer src="validation.js"></script>
    
    <!--inputting fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <style>
        .collapsible {
          background-color: #777;
          color: white;
          cursor: pointer;
          padding: 18px;
          width: 100%;
          border: none;
          text-align: left;
          outline: none;
          font-size: 15px;
        }
        
        .active, .collapsible:hover {
          background-color: #555;
        }
        
        .content {
          padding: 0 18px;
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.2s ease-out;
          background-color: #f1f1f1;
        }
    </style>

    <title>Cancerictive</title>

</head>

<body>
    <form>
        <!-- search bar -->
        <input type="text" id="searchbar" placeholder="Search Here..." style="width:100%">
        <!-- category filter -->
        <select id="category" style="width:100%" >
            <option value="0" selected hidden>Select Category</option>
            <option value="1">Mutation ID</option>
            <option value="2">Gene Involved</option>
            <option value="3">Location</option>
            <option value="4">Potential Impact</option>
        </select>
    </form>
    <button class="collapsible">Open Section 1</button>
    <table class="tablestyle" id="tbl1">
        <thead>
            <tr>
                <th style="width:15%">Mutation ID</th>
                <th>Gene Involved</th>
                <th>Location</th>
                <th>Potential Impact</th>
            </tr>
        </thead>
        <tbody id="tbody1">
            <tr>    
                <td>Test</td>
                <td>Test</td>
                <td>Test</td>
                <td>Test</td>
            </tr>
            <tr>
                <td>Hello</td>
                <td>Hello</td>
                <td>Hello</td>
                <td>Hello</td>
            </tr>
        </tbody>
    </table>
    <h1></h1>
    <form>
        <!-- search bar -->
        <input type="text" id="searchbar_mutation" placeholder="Search Here..." style="width:100%">
        <!-- category filter -->
        <select id="category" style="width:100%" >
            <option value="0" selected hidden>Select Category</option>
            <option value="1">Mutation ID</option>
            <option value="2">Gene Involved</option>
            <option value="3">Location</option>
            <option value="4">Potential Impact</option>
        </select>
    </form>
    <button class="collapsible">Open Section 1</button>
    <table class="tablestyle" id="tbl2">
        <thead>
            <tr>
                <th style="width:15%">Mutation ID</th>
                <th>Gene Involved</th>
                <th>Location</th>
                <th>Potential Impact</th>
            </tr>
        </thead>
        <tbody id="tbody2">
            <tr>    
                <td>Test</td>
                <td>Test</td>
                <td>Test</td>
                <td>Test</td>
            </tr>
            <tr>
                <td>Hello</td>
                <td>Hello</td>
                <td>Hello</td>
                <td>Hello</td>
            </tr>
        </tbody>
    </table>

    <h1></h1>
    <form>
        <!-- search bar -->
        <input type="text" id="searchbar_gene" placeholder="Search Here..." style="width:100%">
        <!-- category filter -->
        <select id="category" style="width:100%" >
            <option value="0" selected hidden>Select Category</option>
            <option value="1">Mutation ID</option>
            <option value="2">Gene Involved</option>
            <option value="3">Location</option>
            <option value="4">Potential Impact</option>
        </select>
    </form>
    <button class="collapsible">Open Section 1</button>
    <table class="tablestyle" id="tbl3">
        <thead>
            <tr>
                <th style="width:15%">Mutation ID</th>
                <th>Gene Involved</th>
                <th>Location</th>
                <th>Potential Impact</th>
            </tr>
        </thead>
        <tbody id="tbody3">
            <tr>    
                <td>Test</td>
                <td>Test</td>
                <td>Test</td>
                <td>Test</td>
            </tr>
            <tr>
                <td>Hello</td>
                <td>Hello</td>
                <td>Hello</td>
                <td>Hello</td>
            </tr>
        </tbody>
    </table>
    <script>
        //second table
        //grabbing references
        var searchbar_mutation = document.getElementById('searchbar_mutation');
        var tbody_mutation = document.getElementById('tbody2');
        var originaltabledata_mut = tbody_mutation.innerHTML; // Storing original html content

        // Search function
        function Search_mutation() {
            tbody_mutation.innerHTML = originaltabledata_mut; // Restoring original table when unfiltered
            let rows_mut = tbody_mutation.children; // All of the table rows tags

            if (searchbar_mutation.value.length < 1) {
                return; // Do not filter if you have no inputs
            }

            let filteredrows_mut = ''; // Initialize filtered rows as empty
            let searchtext_mut = searchbar_mutation.value.toLowerCase(); // Case-sensitive search

            for (let i = 0; i < rows_mut.length; i++) {
                const currentrowtext_mut = rows_mut[i].innerText.toLowerCase(); // Entire text content of the row
                if (currentrowtext_mut.indexOf(searchtext_mut) > -1) {
                    // If text is found, add the entire row to filtered rows
                    filteredrows_mut += rows_mut[i].outerHTML;
                }
            }
            tbody_mutation.innerHTML = filteredrows_mut; // Filtered data will go into the tbody
        }

        searchbar_mutation.addEventListener('input', Search_mutation);

        //third table
        //grabbing references
        var searchbar_gene = document.getElementById('searchbar_gene');
        var tbody_gene = document.getElementById('tbody3');
        var originaltabledata_gene = tbody_gene.innerHTML; // Storing original html content

        // Search function
        function Search_gene() {
            tbody_gene.innerHTML = originaltabledata_gene; // Restoring original table when unfiltered
            let rows_gene = tbody_gene.children; // All of the table rows tags

            if (searchbar_gene.value.length < 1) {
                return; // Do not filter if you have no inputs
            }

            let filteredrows_gene = ''; // Initialize filtered rows as empty
            let searchtext_gene = searchbar_gene.value.toLowerCase(); // Case-sensitive search

            for (let i = 0; i < rows_gene.length; i++) {
                const currentrowtext_gene = rows_gene[i].innerText.toLowerCase(); // Entire text content of the row
                if (currentrowtext_gene.indexOf(searchtext_gene) > -1) {
                    // If text is found, add the entire row to filtered rows
                    filteredrows_gene += rows_gene[i].outerHTML;
                }
            }
            tbody_gene.innerHTML = filteredrows_gene; // Filtered data will go into the tbody
        }

        searchbar_gene.addEventListener('input', Search_gene);

        //first table
        //getting the references
        var searchbar = document.getElementById('searchbar');
        var category = document.getElementById('category');
        var tbody = document.getElementById('tbody1');
        var originaltabledata = tbody.innerHTML; //storing original html content

        //search function
        function Search() {
            tbody.innerHTML = originaltabledata; //restoring original table when unfiltered
            let rows = tbody.children; //all of the table rows tags

            if(searchbar.value.length < 1 || category.value == '0') {
                return; //do not filter if you have no inputs
            }

            let filteredrows = ''; //initialize filtered rows as empty
            let catno = Number(category.value) -1; //index of array starts from 0
            let searchtext = searchbar.value.toLowerCase(); //case sensitive search

            for (let i = 0; i < rows.length; i++) {
                const currentrowtext = rows[i].children[catno].innerText.toLowerCase(); //assigning table row's cell according to the category selected
                if(currentrowtext.indexOf(searchtext) > -1){ //if text is found will return index and will return filtered row
                    filteredrows += rows[i].outerHTML //current row
                }
            }
            tbody.innerHTML = filteredrows; //filtered data will go into the tbody
        }
        searchbar.addEventListener('input', Search);
    </script>
    
</body>

</html>